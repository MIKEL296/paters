<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pathers Church Admin Dashboard - Manage sermons, events, and prayer requests.">
    <title>Admin Dashboard | Pathers Church</title>
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .admin-page {
            background-color: #f5f5f5;
        }
        
        .admin-sidebar {
            background-color: var(--primary-color);
            color: white;
            padding: var(--spacing-lg);
            min-height: 100vh;
            position: sticky;
            top: 0;
        }
        
        .admin-sidebar h3 {
            color: white;
            margin-bottom: var(--spacing-lg);
        }
        
        .admin-sidebar a {
            display: block;
            color: white;
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            border-radius: var(--radius-md);
            transition: background var(--transition-fast);
        }
        
        .admin-sidebar a:hover,
        .admin-sidebar a.active {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .admin-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }
        
        .admin-main {
            padding: var(--spacing-lg);
        }
        
        .admin-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--spacing-lg);
        }
        
        .admin-item {
            background: white;
            padding: var(--spacing-md);
            border-radius: var(--radius-md);
            margin-bottom: var(--spacing-md);
            border-left: 4px solid var(--accent-color);
        }
        
        .admin-item h4 {
            color: var(--primary-color);
            margin-bottom: var(--spacing-sm);
        }
        
        .admin-item button {
            margin-top: var(--spacing-sm);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        
        .stat-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: var(--spacing-sm);
        }
        
        @media (max-width: 768px) {
            .admin-container {
                grid-template-columns: 1fr;
            }
            .admin-sidebar {
                position: relative;
                min-height: auto;
            }
        }
    </style>
</head>

<body class="admin-page">
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar">
            <h3>Pathers Admin</h3>
            <a href="#dashboard" class="sidebar-link active" onclick="showTab('dashboard')">Dashboard</a>
            <a href="#sermons" class="sidebar-link" onclick="showTab('sermons')">Sermons</a>
            <a href="#events" class="sidebar-link" onclick="showTab('events')">Events</a>
            <a href="#prayers" class="sidebar-link" onclick="showTab('prayers')">Prayer Requests</a>
            <a href="#pages" class="sidebar-link" onclick="showTab('pages')">Pages</a>
            <a href="#reports" class="sidebar-link" onclick="showTab('reports')">Reports</a>
            <a href="/" style="margin-top: var(--spacing-lg); background: rgba(255, 255, 255, 0.1);">‚Üê Back to Website</a>
        </div>

        <!-- Main Content -->
        <div class="admin-main">
            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <h1>Dashboard</h1>
                <p style="color: #666; margin-bottom: var(--spacing-lg);">Welcome to Pathers Church Admin Panel. Manage your church content, events, and submissions.</p>

                <div class="dashboard-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="sermon-count">4</div>
                        <p style="color: #666;">Sermons</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="event-count">6</div>
                        <p style="color: #666;">Events</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="prayer-count">0</div>
                        <p style="color: #666;">Prayer Requests</p>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="contact-count">0</div>
                        <p style="color: #666;">Contact Forms</p>
                    </div>
                </div>

                <div class="admin-card">
                    <h2>Quick Actions</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-md); margin-top: var(--spacing-lg);">
                        <a href="#sermons" onclick="showTab('sermons')" class="btn btn-primary">Add Sermon</a>
                        <a href="#events" onclick="showTab('events')" class="btn btn-primary">Add Event</a>
                        <a href="#prayers" onclick="showTab('prayers')" class="btn btn-primary">View Prayers</a>
                        <a href="#reports" onclick="showTab('reports')" class="btn btn-primary">View Reports</a>
                    </div>
                </div>
            </div>

            <!-- Sermons Tab -->
            <div id="sermons" class="tab-content">
                <h1>Manage Sermons</h1>

                <div class="admin-card">
                    <h2>Add New Sermon</h2>
                    <form style="margin-top: var(--spacing-lg);">
                        <div class="form-group">
                            <label>Sermon Title</label>
                            <input type="text" placeholder="Enter sermon title">
                        </div>
                        <div class="form-group">
                            <label>Speaker</label>
                            <input type="text" placeholder="Pastor name">
                        </div>
                        <div class="form-group">
                            <label>Series</label>
                            <input type="text" placeholder="Series name">
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date">
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea rows="4" placeholder="Sermon description"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Video URL</label>
                            <input type="url" placeholder="YouTube or Vimeo URL">
                        </div>
                        <div class="form-group">
                            <label>Audio URL</label>
                            <input type="url" placeholder="Audio download link">
                        </div>
                        <button type="submit" class="btn btn-primary">Add Sermon</button>
                    </form>
                </div>

                <h2>Existing Sermons</h2>
                <div id="sermon-list">
                    <p style="color: #999;">Loading sermons...</p>
                </div>
            </div>

            <!-- Events Tab -->
            <div id="events" class="tab-content">
                <h1>Manage Events</h1>

                <div class="admin-card">
                    <h2>Add New Event</h2>
                    <form style="margin-top: var(--spacing-lg);">
                        <div class="form-group">
                            <label>Event Title</label>
                            <input type="text" placeholder="Enter event title">
                        </div>
                        <div class="form-group">
                            <label>Date</label>
                            <input type="date">
                        </div>
                        <div class="form-group">
                            <label>Time</label>
                            <input type="time">
                        </div>
                        <div class="form-group">
                            <label>Location</label>
                            <input type="text" placeholder="Event location">
                        </div>
                        <div class="form-group">
                            <label>Category</label>
                            <select>
                                <option>worship</option>
                                <option>outreach</option>
                                <option>social</option>
                                <option>study</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Description</label>
                            <textarea rows="4" placeholder="Event description"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Add Event</button>
                    </form>
                </div>

                <h2>Existing Events</h2>
                <div id="event-list">
                    <p style="color: #999;">Loading events...</p>
                </div>
            </div>

            <!-- Prayer Requests Tab -->
            <div id="prayers" class="tab-content">
                <h1>Prayer Requests</h1>
                <p style="color: #666; margin-bottom: var(--spacing-lg);">Manage prayer requests submitted through the website.</p>

                <div id="prayer-list">
                    <p style="color: #999;">No prayer requests yet.</p>
                </div>
            </div>

            <!-- Pages Tab -->
            <div id="pages" class="tab-content">
                <h1>Manage Pages</h1>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg);">
                    <div class="admin-card">
                        <h3>Home Page</h3>
                        <p style="color: #666; margin-bottom: var(--spacing-md);">Edit hero section, welcome message, and featured content</p>
                        <button class="btn btn-primary" style="width: 100%;">Edit</button>
                    </div>

                    <div class="admin-card">
                        <h3>About Page</h3>
                        <p style="color: #666; margin-bottom: var(--spacing-md);">Update church story, mission, vision, and leadership</p>
                        <button class="btn btn-primary" style="width: 100%;">Edit</button>
                    </div>

                    <div class="admin-card">
                        <h3>Contact Info</h3>
                        <p style="color: #666; margin-bottom: var(--spacing-md);">Update address, phone numbers, and office hours</p>
                        <button class="btn btn-primary" style="width: 100%;">Edit</button>
                    </div>

                    <div class="admin-card">
                        <h3>Service Times</h3>
                        <p style="color: #666; margin-bottom: var(--spacing-md);">Manage Sunday and Wednesday service schedules</p>
                        <button class="btn btn-primary" style="width: 100%;">Edit</button>
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content">
                <h1>Reports & Analytics</h1>

                <div class="admin-card">
                    <h2>Form Submissions</h2>
                    <div style="display: grid; gap: var(--spacing-md);">
                        <div style="padding: var(--spacing-md); background: #f9f7f4; border-radius: var(--radius-md);">
                            <p><strong>Contact Forms:</strong> <span id="contact-total">0</span></p>
                        </div>
                        <div style="padding: var(--spacing-md); background: #f9f7f4; border-radius: var(--radius-md);">
                            <p><strong>Prayer Requests:</strong> <span id="prayer-total">0</span></p>
                        </div>
                        <div style="padding: var(--spacing-md); background: #f9f7f4; border-radius: var(--radius-md);">
                            <p><strong>Newsletter Signups:</strong> <span id="newsletter-total">0</span></p>
                        </div>
                    </div>
                </div>

                <div class="admin-card">
                    <h2>Export Data</h2>
                    <p style="color: #666; margin-bottom: var(--spacing-lg);">Export submissions and analytics for reporting.</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--spacing-md);">
                        <button class="btn btn-primary">Export Prayers</button>
                        <button class="btn btn-primary">Export Contacts</button>
                        <button class="btn btn-primary">Export Events</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all sidebar links
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected tab
            const tab = document.getElementById(tabName);
            if (tab) {
                tab.classList.add('active');

                // Add active class to clicked link
                event.target.classList.add('active');

                // Load data for specific tabs
                if (tabName === 'sermons') {
                    loadSermons();
                } else if (tabName === 'events') {
                    loadEvents();
                } else if (tabName === 'prayers') {
                    loadPrayers();
                }
            }
        }

        // Load sermons from localStorage
        function loadSermons() {
            const sermons = JSON.parse(localStorage.getItem('sermons') || '[]');
            const list = document.getElementById('sermon-list');

            if (sermons.length === 0) {
                list.innerHTML = '<p style="color: #999;">No sermons added yet.</p>';
            } else {
                list.innerHTML = sermons.map(sermon => `
                    <div class="admin-item">
                        <h4>${sermon.title}</h4>
                        <p style="color: #666; margin-bottom: var(--spacing-sm);">
                            Speaker: ${sermon.speaker || 'N/A'}<br>
                            Series: ${sermon.series || 'N/A'}<br>
                            Date: ${sermon.date || 'N/A'}
                        </p>
                        <button class="btn btn-outline" style="margin-right: var(--spacing-sm);">Edit</button>
                        <button class="btn btn-outline" style="background: #fee; color: #e74c3c;" onclick="deleteSermon(${sermon.id})">Delete</button>
                    </div>
                `).join('');
            }
        }

        // Load events from localStorage
        function loadEvents() {
            const events = JSON.parse(localStorage.getItem('events') || '[]');
            const list = document.getElementById('event-list');

            if (events.length === 0) {
                list.innerHTML = '<p style="color: #999;">No events added yet.</p>';
            } else {
                list.innerHTML = events.map(event => `
                    <div class="admin-item">
                        <h4>${event.title}</h4>
                        <p style="color: #666; margin-bottom: var(--spacing-sm);">
                            Date: ${event.date || 'N/A'}<br>
                            Time: ${event.time || 'N/A'}<br>
                            Location: ${event.location || 'N/A'}
                        </p>
                        <button class="btn btn-outline" style="margin-right: var(--spacing-sm);">Edit</button>
                        <button class="btn btn-outline" style="background: #fee; color: #e74c3c;" onclick="deleteEvent(${event.id})">Delete</button>
                    </div>
                `).join('');
            }
        }

        // Load prayer requests
        function loadPrayers() {
            const prayers = JSON.parse(localStorage.getItem('prayer_submissions') || '[]');
            const list = document.getElementById('prayer-list');

            if (prayers.length === 0) {
                list.innerHTML = '<p style="color: #999;">No prayer requests yet.</p>';
            } else {
                list.innerHTML = prayers.map((prayer, idx) => `
                    <div class="admin-item">
                        <h4>${prayer.name}</h4>
                        <p style="color: #666; margin-bottom: var(--spacing-sm);">
                            Category: ${prayer.category || 'N/A'}<br>
                            Privacy: ${prayer.privacy || 'Private'}<br>
                            Submitted: ${new Date(prayer.timestamp).toLocaleDateString()}
                        </p>
                        <p style="color: #666; font-style: italic;">"${prayer.request}"</p>
                    </div>
                `).join('');
            }
        }

        // Delete sermon
        function deleteSermon(id) {
            if (confirm('Are you sure you want to delete this sermon?')) {
                const sermons = JSON.parse(localStorage.getItem('sermons') || '[]');
                const filtered = sermons.filter(s => s.id != id);
                localStorage.setItem('sermons', JSON.stringify(filtered));
                loadSermons();
            }
        }

        // Delete event
        function deleteEvent(id) {
            if (confirm('Are you sure you want to delete this event?')) {
                const events = JSON.parse(localStorage.getItem('events') || '[]');
                const filtered = events.filter(e => e.id != id);
                localStorage.setItem('events', JSON.stringify(filtered));
                loadEvents();
            }
        }

        // Update statistics on page load
        function updateStats() {
            const sermons = JSON.parse(localStorage.getItem('sermons') || '[]');
            const events = JSON.parse(localStorage.getItem('events') || '[]');
            const prayers = JSON.parse(localStorage.getItem('prayer_submissions') || '[]');
            const contacts = JSON.parse(localStorage.getItem('contact_submissions') || '[]');

            document.getElementById('sermon-count').textContent = sermons.length;
            document.getElementById('event-count').textContent = events.length;
            document.getElementById('prayer-count').textContent = prayers.length;
            document.getElementById('contact-count').textContent = contacts.length;
            document.getElementById('prayer-total').textContent = prayers.length;
            document.getElementById('contact-total').textContent = contacts.length;
        }

        // Initialize on load
        window.addEventListener('load', updateStats);
    </script>
</body>

</html>